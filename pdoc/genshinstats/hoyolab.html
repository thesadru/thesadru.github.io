<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>genshinstats.hoyolab API documentation</title>
<meta name="description" content="Wrapper for the hoyolab.com community api â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}#lunr-search{width:100%;font-size:1em;padding:6px 9px 5px 9px;border:1px solid silver}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<link rel="preconnect" href="https://www.google.com">
<script async src="https://cse.google.com/cse.js?cx=017837193012385208679:pey8ky8gdqw"></script>
<style>
.gsc-control-cse {padding:0 !important;margin-top:1em}
body.gsc-overflow-hidden #sidebar {overflow: visible;}
</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>genshinstats.hoyolab</code></h1>
</header>
<section id="section-intro">
<p>Wrapper for the hoyolab.com community api.</p>
<p>Can search users, get record cards, active players&hellip;</p>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/thesadru/genshinstats/blob/fd9599a205de22e1df4994f06cc4526660542e0d/genshinstats\hoyolab.py#L0-L141" class="git-link">Browse git</a>
</summary>
<pre><code class="python">&#34;&#34;&#34;Wrapper for the hoyolab.com community api.

Can search users, get record cards, active players...
&#34;&#34;&#34;
from functools import lru_cache
from typing import Iterable, Optional

from .errors import *
from .genshinstats import fetch_endpoint, recognize_server


def search(keyword: str, size: int=20) -&gt; dict:
    &#34;&#34;&#34;Searches posts, topics and users.
    
    Can return up to 20 results, based on size.
    &#34;&#34;&#34;
    return fetch_endpoint(
        &#34;community/apihub/wapi/search&#34;,
        params=dict(keyword=keyword,size=size,gids=2)
    )

def check_in():
    &#34;&#34;&#34;Checks in the user who&#39;s cookies are currently being used.
    
    This will give you points on hoyolab&#39;s site.
    &#34;&#34;&#34;
    fetch_endpoint(
        &#34;community/apihub/api/signIn&#34;,
        method=&#39;POST&#39;,
        params=dict(gids=2)
    )

@lru_cache()
def get_langs() -&gt; list:
    &#34;&#34;&#34;Gets a list of translations for hoyolabs.&#34;&#34;&#34;
    return fetch_endpoint(
        &#34;community/misc/wapi/langs&#34;,
        params=dict(gids=2)
    )[&#39;langs&#39;]

def get_game_accounts(chinese: bool=False) -&gt; list:
    &#34;&#34;&#34;Gets all game accounts of the currently signed in player.
    
    Can get accounts both for global and china.
    &#34;&#34;&#34;
    url = &#34;https://api-takumi.mihoyo.com/&#34; if chinese else &#34;https://api-os-takumi.mihoyo.com/&#34;
    return fetch_endpoint(url+&#34;binding/api/getUserGameRolesByCookie&#34;)[&#39;list&#39;]

def get_community_user_info(community_uid: int) -&gt; dict:
    &#34;&#34;&#34;Gets community info of a user based on their community uid.
    
    Community info contains general data regarding the uid, nickname, introduction gender and so.
    It also contains stats for general community actions.
    
    You can get community id with `search`.
    &#34;&#34;&#34;
    return fetch_endpoint(
        &#34;community/user/wapi/getUserFullInfo&#34;,
        params=dict(uid=community_uid)
    )

def get_record_card(community_uid: int) -&gt; Optional[dict]:
    &#34;&#34;&#34;Gets a game record card of a user based on their community uid.
    
    A record card contains data regarding the stats of a user for their displayed server.
    Their UID for a given server is also included.
    In case the user has set their profile to be private, returns None.
    
    You can get community id with `search`.
    &#34;&#34;&#34;
    cards = fetch_endpoint(
        &#34;game_record/card/wapi/getGameRecordCard&#34;,
        params=dict(uid=community_uid,gids=2)
    )[&#39;list&#39;]
    return cards[0] if cards else None

def get_uid_from_community(community_uid: int) -&gt; Optional[int]:
    &#34;&#34;&#34;Gets a uid with a community uid.
    
    This is so it&#39;s possible to search a user and then directly get the uid.
    In case the uid is private, returns None.
    &#34;&#34;&#34;
    card = get_record_card(community_uid)
    return int(card[&#39;game_role_id&#39;]) if card else None

def get_active_players(page_size: int=20, offset: int=0) -&gt; list:
    &#34;&#34;&#34;Gets a list of recommended active players
    
    Max page size is 195, you cannot offset beyond that.
    &#34;&#34;&#34;
    return fetch_endpoint(
        &#34;community/user/wapi/recommendActive&#34;,
        params=dict(page_size=page_size,offset=offset,gids=2)
    )[&#39;list&#39;]

def get_public_players() -&gt; Iterable[dict]:
    &#34;&#34;&#34;Gets a list of players with public players.
    
    Returns a dict of their community uid, game uid and their game card.
    &#34;&#34;&#34;
    players = get_active_players(page_size=0xffffffff)
    for player in players:
        community_uid = player[&#39;user&#39;][&#39;uid&#39;]
        card = get_record_card(community_uid)
        if card is None:
            continue
        
        yield {
            &#39;community_uid&#39;:community_uid,
            &#39;uid&#39;:card[&#39;game_role_id&#39;],
            &#39;card&#39;:card
        }

def redeem_code(code: str, uid: int=None) -&gt; int:
    &#34;&#34;&#34;Redeems a gift code for the currently signed in user.
    
    Api endpoint for https://genshin.mihoyo.com/en/gift.
    
    The code will be redeemed for every avalible account, 
    specifying the uid will claim it only for that account.
    
    Returns the amount of users it managed to claim codes for.
    
    Currently codes can only be claimed for global accounts, not chinese.
    &#34;&#34;&#34;
    if uid is None:
        accounts = get_game_accounts()
    else:
        accounts = [{&#39;game_biz&#39;:&#39;hk4e_global&#39;,&#39;game_uid&#39;:uid,&#39;region&#39;:recognize_server(uid)}] # create a dummy api return
    
    success = 0
    for account in accounts:
        try:
            fetch_endpoint(
                &#34;https://hk4e-api-os.mihoyo.com/common/apicdkey/api/webExchangeCdkey&#34;,
                params=dict(uid=account[&#39;game_uid&#39;],region=account[&#39;region&#39;],cdkey=code,game_biz=account[&#39;game_biz&#39;],lang=&#39;en&#39;)
            )
        except InvalidCode: raise
        except (CodeAlreadyUsed,TooLowAdventureRank): pass
        else: success += 1
    
    return success</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="genshinstats.hoyolab.check_in"><code class="name flex">
<span>def <span class="ident">check_in</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Checks in the user who's cookies are currently being used.</p>
<p>This will give you points on hoyolab's site.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/thesadru/genshinstats/blob/fd9599a205de22e1df4994f06cc4526660542e0d/genshinstats\hoyolab.py#L22-L31" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def check_in():
    &#34;&#34;&#34;Checks in the user who&#39;s cookies are currently being used.
    
    This will give you points on hoyolab&#39;s site.
    &#34;&#34;&#34;
    fetch_endpoint(
        &#34;community/apihub/api/signIn&#34;,
        method=&#39;POST&#39;,
        params=dict(gids=2)
    )</code></pre>
</details>
</dd>
<dt id="genshinstats.hoyolab.get_active_players"><code class="name flex">
<span>def <span class="ident">get_active_players</span></span>(<span>page_size:Â intÂ =Â 20, offset:Â intÂ =Â 0) â€‘>Â list</span>
</code></dt>
<dd>
<div class="desc"><p>Gets a list of recommended active players</p>
<p>Max page size is 195, you cannot offset beyond that.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/thesadru/genshinstats/blob/fd9599a205de22e1df4994f06cc4526660542e0d/genshinstats\hoyolab.py#L86-L94" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def get_active_players(page_size: int=20, offset: int=0) -&gt; list:
    &#34;&#34;&#34;Gets a list of recommended active players
    
    Max page size is 195, you cannot offset beyond that.
    &#34;&#34;&#34;
    return fetch_endpoint(
        &#34;community/user/wapi/recommendActive&#34;,
        params=dict(page_size=page_size,offset=offset,gids=2)
    )[&#39;list&#39;]</code></pre>
</details>
</dd>
<dt id="genshinstats.hoyolab.get_community_user_info"><code class="name flex">
<span>def <span class="ident">get_community_user_info</span></span>(<span>community_uid:Â int) â€‘>Â dict</span>
</code></dt>
<dd>
<div class="desc"><p>Gets community info of a user based on their community uid.</p>
<p>Community info contains general data regarding the uid, nickname, introduction gender and so.
It also contains stats for general community actions.</p>
<p>You can get community id with <code><a title="genshinstats.hoyolab.search" href="#genshinstats.hoyolab.search">search()</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/thesadru/genshinstats/blob/fd9599a205de22e1df4994f06cc4526660542e0d/genshinstats\hoyolab.py#L49-L60" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def get_community_user_info(community_uid: int) -&gt; dict:
    &#34;&#34;&#34;Gets community info of a user based on their community uid.
    
    Community info contains general data regarding the uid, nickname, introduction gender and so.
    It also contains stats for general community actions.
    
    You can get community id with `search`.
    &#34;&#34;&#34;
    return fetch_endpoint(
        &#34;community/user/wapi/getUserFullInfo&#34;,
        params=dict(uid=community_uid)
    )</code></pre>
</details>
</dd>
<dt id="genshinstats.hoyolab.get_game_accounts"><code class="name flex">
<span>def <span class="ident">get_game_accounts</span></span>(<span>chinese:Â boolÂ =Â False) â€‘>Â list</span>
</code></dt>
<dd>
<div class="desc"><p>Gets all game accounts of the currently signed in player.</p>
<p>Can get accounts both for global and china.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/thesadru/genshinstats/blob/fd9599a205de22e1df4994f06cc4526660542e0d/genshinstats\hoyolab.py#L41-L47" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def get_game_accounts(chinese: bool=False) -&gt; list:
    &#34;&#34;&#34;Gets all game accounts of the currently signed in player.
    
    Can get accounts both for global and china.
    &#34;&#34;&#34;
    url = &#34;https://api-takumi.mihoyo.com/&#34; if chinese else &#34;https://api-os-takumi.mihoyo.com/&#34;
    return fetch_endpoint(url+&#34;binding/api/getUserGameRolesByCookie&#34;)[&#39;list&#39;]</code></pre>
</details>
</dd>
<dt id="genshinstats.hoyolab.get_langs"><code class="name flex">
<span>def <span class="ident">get_langs</span></span>(<span>) â€‘>Â list</span>
</code></dt>
<dd>
<div class="desc"><p>Gets a list of translations for hoyolabs.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/thesadru/genshinstats/blob/fd9599a205de22e1df4994f06cc4526660542e0d/genshinstats\hoyolab.py#L33-L39" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@lru_cache()
def get_langs() -&gt; list:
    &#34;&#34;&#34;Gets a list of translations for hoyolabs.&#34;&#34;&#34;
    return fetch_endpoint(
        &#34;community/misc/wapi/langs&#34;,
        params=dict(gids=2)
    )[&#39;langs&#39;]</code></pre>
</details>
</dd>
<dt id="genshinstats.hoyolab.get_public_players"><code class="name flex">
<span>def <span class="ident">get_public_players</span></span>(<span>) â€‘>Â Iterable[dict]</span>
</code></dt>
<dd>
<div class="desc"><p>Gets a list of players with public players.</p>
<p>Returns a dict of their community uid, game uid and their game card.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/thesadru/genshinstats/blob/fd9599a205de22e1df4994f06cc4526660542e0d/genshinstats\hoyolab.py#L96-L112" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def get_public_players() -&gt; Iterable[dict]:
    &#34;&#34;&#34;Gets a list of players with public players.
    
    Returns a dict of their community uid, game uid and their game card.
    &#34;&#34;&#34;
    players = get_active_players(page_size=0xffffffff)
    for player in players:
        community_uid = player[&#39;user&#39;][&#39;uid&#39;]
        card = get_record_card(community_uid)
        if card is None:
            continue
        
        yield {
            &#39;community_uid&#39;:community_uid,
            &#39;uid&#39;:card[&#39;game_role_id&#39;],
            &#39;card&#39;:card
        }</code></pre>
</details>
</dd>
<dt id="genshinstats.hoyolab.get_record_card"><code class="name flex">
<span>def <span class="ident">get_record_card</span></span>(<span>community_uid:Â int) â€‘>Â Optional[dict]</span>
</code></dt>
<dd>
<div class="desc"><p>Gets a game record card of a user based on their community uid.</p>
<p>A record card contains data regarding the stats of a user for their displayed server.
Their UID for a given server is also included.
In case the user has set their profile to be private, returns None.</p>
<p>You can get community id with <code><a title="genshinstats.hoyolab.search" href="#genshinstats.hoyolab.search">search()</a></code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/thesadru/genshinstats/blob/fd9599a205de22e1df4994f06cc4526660542e0d/genshinstats\hoyolab.py#L62-L75" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def get_record_card(community_uid: int) -&gt; Optional[dict]:
    &#34;&#34;&#34;Gets a game record card of a user based on their community uid.
    
    A record card contains data regarding the stats of a user for their displayed server.
    Their UID for a given server is also included.
    In case the user has set their profile to be private, returns None.
    
    You can get community id with `search`.
    &#34;&#34;&#34;
    cards = fetch_endpoint(
        &#34;game_record/card/wapi/getGameRecordCard&#34;,
        params=dict(uid=community_uid,gids=2)
    )[&#39;list&#39;]
    return cards[0] if cards else None</code></pre>
</details>
</dd>
<dt id="genshinstats.hoyolab.get_uid_from_community"><code class="name flex">
<span>def <span class="ident">get_uid_from_community</span></span>(<span>community_uid:Â int) â€‘>Â Optional[int]</span>
</code></dt>
<dd>
<div class="desc"><p>Gets a uid with a community uid.</p>
<p>This is so it's possible to search a user and then directly get the uid.
In case the uid is private, returns None.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/thesadru/genshinstats/blob/fd9599a205de22e1df4994f06cc4526660542e0d/genshinstats\hoyolab.py#L77-L84" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def get_uid_from_community(community_uid: int) -&gt; Optional[int]:
    &#34;&#34;&#34;Gets a uid with a community uid.
    
    This is so it&#39;s possible to search a user and then directly get the uid.
    In case the uid is private, returns None.
    &#34;&#34;&#34;
    card = get_record_card(community_uid)
    return int(card[&#39;game_role_id&#39;]) if card else None</code></pre>
</details>
</dd>
<dt id="genshinstats.hoyolab.redeem_code"><code class="name flex">
<span>def <span class="ident">redeem_code</span></span>(<span>code:Â str, uid:Â intÂ =Â None) â€‘>Â int</span>
</code></dt>
<dd>
<div class="desc"><p>Redeems a gift code for the currently signed in user.</p>
<p>Api endpoint for <a href="https://genshin.mihoyo.com/en/gift.">https://genshin.mihoyo.com/en/gift.</a></p>
<p>The code will be redeemed for every avalible account,
specifying the uid will claim it only for that account.</p>
<p>Returns the amount of users it managed to claim codes for.</p>
<p>Currently codes can only be claimed for global accounts, not chinese.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/thesadru/genshinstats/blob/fd9599a205de22e1df4994f06cc4526660542e0d/genshinstats\hoyolab.py#L114-L142" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def redeem_code(code: str, uid: int=None) -&gt; int:
    &#34;&#34;&#34;Redeems a gift code for the currently signed in user.
    
    Api endpoint for https://genshin.mihoyo.com/en/gift.
    
    The code will be redeemed for every avalible account, 
    specifying the uid will claim it only for that account.
    
    Returns the amount of users it managed to claim codes for.
    
    Currently codes can only be claimed for global accounts, not chinese.
    &#34;&#34;&#34;
    if uid is None:
        accounts = get_game_accounts()
    else:
        accounts = [{&#39;game_biz&#39;:&#39;hk4e_global&#39;,&#39;game_uid&#39;:uid,&#39;region&#39;:recognize_server(uid)}] # create a dummy api return
    
    success = 0
    for account in accounts:
        try:
            fetch_endpoint(
                &#34;https://hk4e-api-os.mihoyo.com/common/apicdkey/api/webExchangeCdkey&#34;,
                params=dict(uid=account[&#39;game_uid&#39;],region=account[&#39;region&#39;],cdkey=code,game_biz=account[&#39;game_biz&#39;],lang=&#39;en&#39;)
            )
        except InvalidCode: raise
        except (CodeAlreadyUsed,TooLowAdventureRank): pass
        else: success += 1
    
    return success</code></pre>
</details>
</dd>
<dt id="genshinstats.hoyolab.search"><code class="name flex">
<span>def <span class="ident">search</span></span>(<span>keyword:Â str, size:Â intÂ =Â 20) â€‘>Â dict</span>
</code></dt>
<dd>
<div class="desc"><p>Searches posts, topics and users.</p>
<p>Can return up to 20 results, based on size.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/thesadru/genshinstats/blob/fd9599a205de22e1df4994f06cc4526660542e0d/genshinstats\hoyolab.py#L12-L20" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def search(keyword: str, size: int=20) -&gt; dict:
    &#34;&#34;&#34;Searches posts, topics and users.
    
    Can return up to 20 results, based on size.
    &#34;&#34;&#34;
    return fetch_endpoint(
        &#34;community/apihub/wapi/search&#34;,
        params=dict(keyword=keyword,size=size,gids=2)
    )</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<div class="gcse-search" style="height: 70px"
data-as_oq="inurl:github.com/thesadru/genshinstats site:thesadru.github.io"
data-gaCategoryParameter="genshinstats.hoyolab">
</div>
<form>
<input id="lunr-search" name="q" placeholder="ðŸ”Ž Search ..." aria-label="Search"
disabled minlength="2">
</form>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.css" integrity="sha512-j1u8eUJ4f23xPPxwOrLUPQaCD2dwzNqqmDDcWS4deWsMv2ohLqmXXuP3hU7g8TyzbMSakP/mMqoNBYWj8AEIFg==" crossorigin>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.js" integrity="sha512-plGUER9JkeEWPPqQBE4sdLqBoQug5Ap+BCGMc7bJ8BXkm+VVj6QzkpBz5Yv2yPkkq+cqg9IpkBaGCas6uDbW8g==" crossorigin></script>
<style>
.modal-dialog iframe {
width: 100vw;
height: calc(100vh - 80px);
}
@media screen and (min-width: 700px) {
.modal-dialog iframe {
width: 70vw;
height: 80vh;
}
}
.modal-dialog .tingle-modal-box {width: auto;}
.modal-dialog .tingle-modal-box__content {padding: 0;}
</style>
<script>
const input = document.getElementById('lunr-search');
input.disabled = false;
input.form.addEventListener('submit', (ev) => {
ev.preventDefault();
const url = new URL(window.location);
url.searchParams.set('q', input.value);
history.replaceState({}, null, url.toString());
search(input.value);
});
const query = new URL(window.location).searchParams.get('q');
if (query)
search(query);
function search(query) {
const url = '../doc-search.html#' + encodeURIComponent(query);
new tingle.modal({
cssClass: ['modal-dialog'],
onClose: () => {
const url = new URL(window.location);
url.searchParams.delete('q');
history.replaceState({}, null, url.toString());
setTimeout(() => input.focus(), 100);
}
}).setContent('<iframe src="' + url + '"></iframe>').open();
}
</script>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="genshinstats" href="index.html">genshinstats</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="genshinstats.hoyolab.check_in" href="#genshinstats.hoyolab.check_in">check_in</a></code></li>
<li><code><a title="genshinstats.hoyolab.get_active_players" href="#genshinstats.hoyolab.get_active_players">get_active_players</a></code></li>
<li><code><a title="genshinstats.hoyolab.get_community_user_info" href="#genshinstats.hoyolab.get_community_user_info">get_community_user_info</a></code></li>
<li><code><a title="genshinstats.hoyolab.get_game_accounts" href="#genshinstats.hoyolab.get_game_accounts">get_game_accounts</a></code></li>
<li><code><a title="genshinstats.hoyolab.get_langs" href="#genshinstats.hoyolab.get_langs">get_langs</a></code></li>
<li><code><a title="genshinstats.hoyolab.get_public_players" href="#genshinstats.hoyolab.get_public_players">get_public_players</a></code></li>
<li><code><a title="genshinstats.hoyolab.get_record_card" href="#genshinstats.hoyolab.get_record_card">get_record_card</a></code></li>
<li><code><a title="genshinstats.hoyolab.get_uid_from_community" href="#genshinstats.hoyolab.get_uid_from_community">get_uid_from_community</a></code></li>
<li><code><a title="genshinstats.hoyolab.redeem_code" href="#genshinstats.hoyolab.redeem_code">redeem_code</a></code></li>
<li><code><a title="genshinstats.hoyolab.search" href="#genshinstats.hoyolab.search">search</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>